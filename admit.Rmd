---
title: "AdMit"
author: "Micha≈Ç Wdowski"
date: "5/3/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# AdMit
### Description
`AdMit` is a package that was introduced in [The R Journal](https://journal.r-project.org/archive/2009/RJ-2009-003/index.html) issue from June 2009. The latest version on [CRAN](https://cran.r-project.org/web/packages/AdMit/index.html) came out in 20th April 2020, thus it indeed falls into the cathegory of *still updated old packages*.\
The authors of the article did not provide any adjacent files or scripts, however, output is generated by code written in the paragraphs, as if it would be seen in `R` console. It resulted in creating unneccessary uncomfortable copying and editing.

### Reproduction

```{r}
# install.packages("AdMit")
library(AdMit)
```
On `R 3.6.3` installation went by quickly, without any complications.\
.\
.\
.\
```{r}
set.seed(1234)
```
This seed was used by the authors. As it is known, `R 3.6.0` update has changed they way that seed works, so we can already expect slightly different results.\
.\
.\
.\
```{r}
GelmanMeng <- function(x, log = TRUE) {
    if (is.vector(x)) x <- matrix(x, nrow = 1)
    r <- -0.5 * ( 5 * x[,1]^2 * x[,2]^2 + x[,1]^2 + x[,2]^2 - 10 * x[,1] * x[,2] - 6 * x[,1] - 7 * x[,2] )
    if (!log) r <- exp(r)
    as.vector(r)
}
```
This chunk of code creates kernel, that is later visualised by plots. Unfortunately, the code for plot generating was not provided.\
.\
.\
.\
```{r}
(outAdMit <- AdMit(KERNEL = GelmanMeng, mu0 = c(0, 0.1)))
(outAdMitIS <- AdMitIS(N = 1e5, KERNEL = GelmanMeng, mit = outAdMit$mit))
```
Output is generally slightly different to the original, probably mainly due to different random number generator. Additionally, there were used different ways of rounding numbers.\
.\
.\
.\
```{r, results='hide'}
(outAdMitMH <- AdMitMH(N = 101000, KERNEL = GelmanMeng, mit = outAdMit$mit))
```
This chunk in `markdown` generates $50000$ lines of results and proudly declared that another $50000$ has been ommitted, but in `R` console it is neatly generated.\
.\
.\
For this article, it was neccessary to rewrite this line of code.
```{r}
# rewritten upper chunk
head(outAdMitMH$draws, 7)
outAdMitMH$accept
```
Yet again, output is almost equal to the original.\
.\
.\
.\
```{r}
library("coda")
draws <- as.mcmc(outAdMitMH$draws)
draws <- window(draws, start = 1001)
colnames(draws) <- c("X1", "X2")
summary(draws)$stat

effectiveSize(draws) / niter(draws)
```
Here, another package - `coda` - is intorduced, in order to check the performance of `AdMit`. Luckily, it also works without any problems, and the results almost resemble what was written in the article.

### Conclusion
To conlcude, `AdMit` is an example of *still updated old package*, performance of which slightly differs from version from 2009, but generally speaking - still does the same job, as it had been intended.